<div class="add-case-content">
  <textarea class="add-tes-textarea" name="json" id="" cols="30" rows="10" [(ngModel)]="jsonStr"></textarea>
  <button class="add-test-case-button pull-right clear-both" type="button" (click)="getParam()">获取参数</button>
  <div class="add-case-table">
    <div class="table-row">
      <div class="parameter-td parameter-name">字段名称</div>
      <div class="parameter-td parameter-type">字段类型</div>
      <div class="parameter-td parameter-type">是否必填</div>
      <div class="parameter-td parameter-value">默认值</div>
      <div class="parameter-td parameter-desc margin-right-0">描述</div>
      <div class="clear-both"></div>
    </div>
    <div class="table-row" *ngFor="let json of jsons" [hidden]="!json?.show">
      <div class="parameter-name">
        <input class="parameter-td float-none" [style.margin-left]="json?.layer*12+'px'" [style.width]="'calc(100% - '+json?.layer*12+'px)'"
          [title]="json?.name" [(ngModel)]="json.name">
        <a class="icon-wrapper expand-icon-position" [ngClass]="{'cursor-pointer': json?.isParent}" [style.left]="(json?.layer-1)*12-2+'px'"
          (click)="openOrClose(json)">
          <span *ngIf="json?.isParent" class="glyphicon" [ngClass]="{'glyphicon-chevron-down': !obj?.open, 'glyphicon-chevron-up': obj?.open}"></span>
        </a>
      </div>
      <div class="parameter-type" [title]="json?.type">
        <p-dropdown [options]="types" [(ngModel)]="json.type" [style]="{'width':'100%','height':'30px'}"></p-dropdown>
      </div>
      <div class="parameter-type" [title]="json?.type">
        <p-dropdown [options]="defaults" [(ngModel)]="json.default" [style]="{'width':'100%','height':'30px'}"></p-dropdown>
      </div>
      <input class="parameter-td parameter-value" [title]="json?.value" [(ngModel)]="json.value">
      <input class="parameter-td parameter-desc margin-right-0" [title]="json?.description" [(ngModel)]="json.description">
      <div class="clear-both"></div>
    </div>
  </div>
</div>
